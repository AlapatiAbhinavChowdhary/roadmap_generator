<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard | SkillBridge - AI-Powered Career Roadmap</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* --- ROOT VARIABLES (DARK MODE DEFAULT) --- */
    :root {
      --primary: #7c4dff; --primary-light: #5323e7; --secondary: #35dca9;
      --dark: #0d0d1a; --light-gray: #1e2038; --card-bg: #1a1a2b;
      --text-primary: #f0f2f5; --text-secondary: #a0a8cc;
      --border-color: rgba(160, 168, 204, 0.2); --shadow-lg: 0 12px 30px rgba(0,0,0,0.6);
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    /* --- LIGHT MODE VARIABLES --- */
    body.light-mode {
      --primary: #673ab7; --primary-light: #512da8; --secondary: #009688;
      --dark: #f4f6f8; --light-gray: #eef0f2; --card-bg: #ffffff;
      --text-primary: #1a1a2e; --text-secondary: #5a647e;
      --border-color: rgba(0, 0, 0, 0.1); --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
    }

    /* --- BASE & RESET --- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body { 
      font-family: 'Inter', sans-serif; background: var(--dark);
      color: var(--text-primary); line-height: 1.6; overflow-x: hidden;
      transition: background 0.3s ease, color 0.3s ease;
    }
    
    /* --- DASHBOARD LAYOUT --- */
    .dashboard-container {
      display: grid;
      grid-template-columns: 280px 1fr;
      min-height: 100vh;
    }
    
    /* --- SIDEBAR --- */
    .sidebar {
      background: var(--card-bg);
      border-right: 1px solid var(--border-color);
      padding: 30px 20px;
      position: sticky;
      top: 0;
      height: 100vh;
      overflow-y: auto;
      transition: var(--transition);
    }
    
    .sidebar-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border-color);
    }
    
    .sidebar-logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .user-profile-container {
      position: relative;
      margin-bottom: 30px;
    }
    
    .user-profile {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 8px;
      background: var(--light-gray);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .user-profile:hover {
      background: var(--primary-light);
      color: white;
    }
    
    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      transition: var(--transition);
    }
    
    .user-info h4 {
      font-size: 0.9rem;
      margin-bottom: 4px;
      transition: color 0.3s ease;
    }
    
    .user-info p {
      font-size: 0.8rem;
      color: var(--text-secondary);
      transition: color 0.3s ease;
    }
    
    .profile-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: var(--shadow-lg);
      padding: 8px;
      z-index: 10;
    }
    
    .profile-menu.active {
      display: block;
    }
    
    .profile-menu-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      border-radius: 6px;
      font-size: 0.9rem;
      color: var(--text-secondary);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .profile-menu-item:hover {
      background: var(--light-gray);
      color: var(--text-primary);
    }
    
    .profile-menu-item i {
      width: 16px;
      text-align: center;
    }
    
    .nav-menu {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 6px;
      color: var(--text-secondary);
      text-decoration: none;
      transition: var(--transition);
    }
    
    .nav-item:hover, .nav-item.active {
      background: var(--light-gray);
      color: var(--primary);
    }
    
    .nav-item i {
      width: 20px;
      text-align: center;
    }
    
    /* --- INTERVIEW PREP SECTION IN SIDEBAR --- */
    .interview-prep {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid var(--border-color);
    }
    
    .interview-prep h3 {
      font-size: 1.1rem;
      color: var(--primary);
      margin-bottom: 10px;
    }
    
    .interview-list {
      max-height: 200px;
      overflow-y: auto;
      padding-right: 10px;
    }
    
    .interview-item {
      padding: 8px;
      font-size: 0.85rem;
      color: var(--text-secondary);
      transition: var(--transition);
    }
    
    .interview-item:hover {
      color: var(--primary);
      background: var(--light-gray);
      border-radius: 4px;
    }
    
    /* --- MAIN CONTENT AREA --- */
    .main-content {
      padding: 30px;
      overflow-y: auto;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
      background: var(--dark);
    }
    
    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    
    .dashboard-title h1 {
      font-size: 1.8rem;
      margin-bottom: 8px;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .dashboard-title p {
      color: var(--text-secondary);
    }
    
    .header-actions {
      display: flex;
      gap: 12px;
    }
    
    /* --- DASHBOARD WIDGETS --- */
    .widget-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .widget {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 20px;
      transition: var(--transition);
    }
    
    .widget.full-width {
      grid-column: 1 / -1;
    }
    
    .widget:hover {
      border-color: var(--primary);
      box-shadow: 0 0 30px -10px rgba(124, 77, 255, 0.3);
    }
    
    .widget-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .widget-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--primary);
    }
    
    .widget-actions {
      color: var(--text-secondary);
    }
    
    /* --- PROGRESS WIDGET --- */
    .progress-widget .progress-bar {
      height: 8px;
      background: var(--light-gray);
      border-radius: 4px;
      margin-bottom: 10px;
      overflow: hidden;
    }
    
    .progress-widget .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 4px;
      width: 65%;
    }
    
    .progress-stats {
      display: flex;
      justify-content: space-between;
      text-align: center;
    }
    
    .progress-stat {
      flex: 1;
    }
    
    .progress-stat span:first-child {
      font-weight: 600;
      font-size: 1.2rem;
      display: block;
      margin-bottom: 4px;
      color: var(--primary);
    }
    
    .progress-stat span:last-child {
      color: var(--text-secondary);
      font-size: 0.8rem;
    }
    
    /* --- WEEKLY GOAL WIDGET --- */
    .weekly-goal-widget .goal-input {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--border-color);
      background: var(--dark);
      color: var(--text-primary);
      border-radius: 6px;
      margin-bottom: 10px;
    }
    
    .weekly-goal-widget .goal-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
    
    /* --- ROADMAP WIDGET --- */
    .roadmap-widget .roadmap-steps {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .roadmap-step {
      display: flex;
      gap: 12px;
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    
    .roadmap-step.newly-unlocked {
      opacity: 0;
      transform: translateY(10px);
    }
    
    .step-indicator {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .step-dot {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--light-gray);
      position: relative;
      transition: var(--transition);
    }
    
    .step-dot.completed {
      background: var(--secondary);
    }
    
    .step-dot.current {
      background: var(--primary);
      box-shadow: 0 0 0 4px rgba(124, 77, 255, 0.3);
    }
    
    .step-connector {
      flex: 1;
      width: 2px;
      background: var(--light-gray);
      margin: 4px 0;
      transition: var(--transition);
    }
    
    .step-connector.completed {
      background: var(--secondary);
    }
    
    .step-content {
      flex: 1;
      padding-bottom: 15px;
    }
    
    .step-title {
      font-weight: 600;
      margin-bottom: 5px;
      color: var(--primary);
    }
    
    .step-description {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }
    
    .step-actions {
      display: flex;
      gap: 8px;
    }
    
    .step-btn {
      padding: 6px 12px;
      font-size: 0.8rem;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .step-btn.primary {
      background: var(--primary);
      color: white;
    }
    
    .step-btn.secondary {
      background: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-primary);
    }
    
    .step-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .remove-skill-btn {
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      font-size: 0.9rem;
      margin-left: 10px;
    }
    
    /* Add Skill Form */
    .add-skill-form-container {
      display: none;
      padding: 15px;
      margin-top: 15px;
      background: var(--light-gray);
      border-radius: 8px;
    }
    
    .add-skill-input {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--border-color);
      background: var(--dark);
      color: var(--text-primary);
      border-radius: 6px;
      margin-bottom: 10px;
    }
    
    .add-skill-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
    
    /* --- RESOURCES WIDGET --- */
    .resources-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 15px;
    }
    
    .resource-card {
      background: var(--light-gray);
      border-radius: 8px;
      overflow: hidden;
      transition: var(--transition);
    }
    
    .resource-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }
    
    .resource-image {
      height: 120px;
      background: var(--primary-light);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2rem;
    }
    
    .resource-content {
      padding: 15px;
    }
    
    .resource-type {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--secondary);
      margin-bottom: 5px;
    }
    
    .resource-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }
    
    .resource-meta {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
      color: var(--text-secondary);
    }
    
    /* --- PROJECTS WIDGET --- */
    .projects-widget .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .project-card {
      background: var(--light-gray);
      border-radius: 8px;
      padding: 15px;
      transition: var(--transition);
    }
    
    .project-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }
    
    .project-title {
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--primary);
    }
    
    .project-description {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-bottom: 10px;
    }
    
    .project-level {
      font-size: 0.8rem;
      color: var(--secondary);
    }
    
    .project-section {
      margin-bottom: 20px;
    }
    
    .project-section h4 {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 15px;
    }
    
    /* --- INTERVIEW PREP WIDGET --- */
    .interview-card {
      background: var(--light-gray);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 15px;
    }
    
    .interview-question {
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .interview-answer {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-bottom: 15px;
      display: none;
    }
    
    .interview-actions {
      display: flex;
      gap: 10px;
    }
    
    /* --- MODALS --- */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .modal-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }
    
    .modal-content {
      background: var(--card-bg);
      padding: 30px;
      border-radius: 12px;
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow-lg);
      position: relative;
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }
    
    .modal-overlay.active .modal-content {
      transform: scale(1);
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--border-color);
    }
    
    .modal-close-btn {
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }
    
    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      background: var(--dark);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      border-radius: 6px;
      font-family: inherit;
    }
    
    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    
    /* --- AI ASSISTANT --- */
    .ai-assistant {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 100;
    }
    
    .ai-toggle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      transition: var(--transition);
    }
    
    .ai-toggle:hover {
      transform: scale(1.1);
    }
    
    .ai-panel {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 350px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border-color);
      overflow: hidden;
      transform: translateY(20px);
      opacity: 0;
      pointer-events: none;
      transition: var(--transition);
    }
    
    .ai-panel.active {
      transform: translateY(0);
      opacity: 1;
      pointer-events: auto;
    }
    
    .ai-header {
      padding: 15px;
      background: var(--primary);
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .ai-close {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1.2rem;
    }
    
    .ai-messages {
      height: 300px;
      overflow-y: auto;
      padding: 15px;
    }
    
    .ai-message {
      margin-bottom: 15px;
      padding: 10px 15px;
      border-radius: 8px;
      max-width: 80%;
      font-size: 0.9rem;
    }
    
    .ai-message.user {
      background: var(--primary-light);
      color: white;
      margin-left: auto;
      border-bottom-right-radius: 0;
    }
    
    .ai-message.bot {
      background: var(--light-gray);
      margin-right: auto;
      border-bottom-left-radius: 0;
    }
    
    .ai-input-container {
      display: flex;
      padding: 10px;
      border-top: 1px solid var(--border-color);
    }
    
    .ai-input {
      flex: 1;
      padding: 10px 15px;
      border: 1px solid var(--border-color);
      border-radius: 20px;
      background: var(--dark);
      color: var(--text-primary);
      outline: none;
    }
    
    .ai-send {
      background: var(--primary);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-left: 10px;
      cursor: pointer;
    }
    
    /* --- RESPONSIVE DESIGN --- */
    @media (max-width: 1024px) {
      .dashboard-container {
        grid-template-columns: 220px 1fr;
      }
      
      .main-content {
        padding: 20px;
      }
    }
    
    @media (max-width: 768px) {
      .dashboard-container {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        position: static;
        height: auto;
        padding: 20px;
      }
      
      .ai-panel {
        width: 300px;
      }
    }
    
    @media (max-width: 480px) {
      .dashboard-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      
      .header-actions {
        width: 100%;
        justify-content: space-between;
      }
      
      .widget-grid {
        grid-template-columns: 1fr;
      }
      
      .ai-panel {
        width: calc(100vw - 40px);
        right: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">SkillBridge</div>
      </div>
      
      <div class="user-profile-container">
        <div class="user-profile" id="userProfile">
          <div class="user-avatar" id="userAvatar">JD</div>
          <div class="user-info">
            <h4 id="userName">John Doe</h4>
            <p id="userCareerPath">Frontend Developer Path</p>
          </div>
        </div>
        <div class="profile-menu" id="profileMenu">
          <div class="profile-menu-item" id="editProfileBtn">
            <i class="fas fa-user-edit"></i>
            <span>Edit Profile</span>
          </div>
          <div class="profile-menu-item">
            <i class="fas fa-sign-out-alt"></i>
            <span>Log Out</span>
          </div>
        </div>
      </div>
      
      <nav class="nav-menu">
        <a href="#" class="nav-item active">
          <i class="fas fa-home"></i>
          <span>Dashboard</span>
        </a>
        <a href="#my-roadmap" class="nav-item">
          <i class="fas fa-road"></i>
          <span>My Roadmap</span>
        </a>
        <a href="#learning-resources" class="nav-item">
          <i class="fas fa-book"></i>
          <span>Learning Resources</span>
        </a>
        <a href="#projects" class="nav-item">
          <i class="fas fa-project-diagram"></i>
          <span>Projects</span>
        </a>
        <a href="#" class="nav-item" id="generateRoadmapBtn">
          <i class="fas fa-brain"></i>
          <span>Generate AI Roadmap</span>
        </a>
        <a href="#" class="nav-item" id="settingsLink">
          <i class="fas fa-cog"></i>
          <span>Settings</span>
        </a>
      </nav>
      
      <div class="interview-prep">
        <h3>Interview Prep</h3>
        <div class="interview-list" id="interviewList">
          <!-- Top 100 general interview questions will be populated by JavaScript -->
        </div>
      </div>
    </aside>
    
    <!-- Edit Profile Modal -->
    <div class="modal-overlay" id="profileModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Edit Profile</h3>
          <button class="modal-close-btn" id="profileModalClose">×</button>
        </div>
        <form id="profileForm">
          <div class="form-group">
            <label for="profileName">Full Name</label>
            <input type="text" id="profileName" value="John Doe" required>
          </div>
          <div class="form-group">
            <label for="profileCareerPath">Career Path</label>
            <textarea id="profileCareerPath" rows="2" required>Frontend Developer Path</textarea>
          </div>
          <div class="form-actions">
            <button type="button" class="step-btn secondary" id="profileCancel">Cancel</button>
            <button type="submit" class="step-btn primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Settings</h3>
          <button class="modal-close-btn" id="settingsModalClose">×</button>
        </div>
        <form id="settingsForm">
          <div class="form-group">
            <label for="settingsName">Full Name</label>
            <input type="text" id="settingsName" value="John Doe" required>
          </div>
          <div class="form-group">
            <label for="settingsEmail">Email</label>
            <input type="email" id="settingsEmail" value="john.doe@example.com" required>
          </div>
          <div class="form-group">
            <label for="currentPassword">Current Password</label>
            <input type="password" id="currentPassword" required>
          </div>
          <div class="form-group">
            <label for="newPassword">New Password</label>
            <input type="password" id="newPassword" required>
          </div>
          <div class="form-group">
            <label for="confirmPassword">Confirm New Password</label>
            <input type="password" id="confirmPassword" required>
          </div>
          <div class="form-actions">
            <button type="button" class="step-btn secondary" id="settingsCancel">Cancel</button>
            <button type="submit" class="step-btn primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- AI Roadmap Modal -->
    <div class="modal-overlay" id="aiRoadmapModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Generate AI Roadmap</h3>
          <button class="modal-close-btn" id="aiRoadmapModalClose">×</button>
        </div>
        <form id="aiRoadmapForm">
          <div class="form-group">
            <label for="timeline">Timeline (in months)</label>
            <input type="number" id="timeline" min="1" required>
          </div>
          <div class="form-group">
            <label for="careerPath">Career Path</label>
            <textarea id="careerPath" rows="2" required>Frontend Developer Path</textarea>
          </div>
          <div class="form-actions">
            <button type="button" class="step-btn secondary" id="aiRoadmapCancel">Cancel</button>
            <button type="submit" class="step-btn primary">Generate Roadmap</button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <main class="main-content">
      <header class="dashboard-header">
        <div class="dashboard-title">
          <h1 id="welcomeTitle">Welcome Back, John!</h1>
          <p>Here's your personalized learning dashboard</p>
        </div>
        <div class="header-actions">
          <button id="themeToggle" class="step-btn secondary" aria-label="Toggle theme">
            <i class="fas fa-sun"></i><i class="fas fa-moon"></i>
          </button>
          <button class="step-btn secondary">
            <i class="fas fa-sync-alt"></i> Refresh Roadmap
          </button>
          <button class="step-btn primary">
            <i class="fas fa-download"></i> Export PDF
          </button>
        </div>
      </header>
      
      <!-- Dashboard Widgets Grid -->
      <div class="widget-grid">
        <div class="widget progress-widget">
          <div class="widget-header">
            <h3 class="widget-title">Your Progress</h3>
            <div class="widget-actions">
              <i class="fas fa-ellipsis-h"></i>
            </div>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 65%;"></div>
          </div>
          <div class="progress-stats">
            <div class="progress-stat">
              <span id="progressPercent">65%</span>
              <span>Completed</span>
            </div>
          </div>
        </div>
        
        <div class="widget weekly-goal-widget">
          <div class="widget-header">
            <h3 class="widget-title">Weekly Goal</h3>
            <div class="widget-actions">
              <i class="fas fa-ellipsis-h"></i>
            </div>
          </div>
          <p id="weeklyGoalText">Complete React Hooks module and build a todo app with state management.</p>
          <div class="progress-bar" style="margin-top: 15px;">
            <div class="progress-fill" style="width: 30%;"></div>
          </div>
          <input type="text" id="weeklyGoalInput" class="goal-input" placeholder="Add your weekly goal...">
          <div class="goal-actions">
            <button class="step-btn secondary" id="addWeeklyGoal">Add</button>
            <button class="step-btn secondary" id="clearWeeklyGoal">Clear</button>
          </div>
        </div>
      </div>
      
      <!-- Interview Prep Section -->
      <div class="widget">
        <div class="widget-header">
          <h3 class="widget-title">Daily Interview Question</h3>
          <div class="widget-actions">
            <i class="fas fa-ellipsis-h"></i>
          </div>
        </div>
        
        <div class="interview-card">
          <div class="interview-question" id="interviewQuestion">
            Explain the difference between state and props in React.
          </div>
          <div class="interview-answer" id="interviewAnswer">
            <p>In React, both props and state are plain JavaScript objects that hold information that influences the output of render. Props are read-only data passed from a parent component to a child component, while state is managed within the component and can change over time, triggering a re-render when updated.</p>
          </div>
          <div class="interview-actions">
            <button class="step-btn primary" id="nextQuestion">
              <i class="fas fa-arrow-right"></i> Next Question
            </button>
          </div>
        </div>
      </div>
    </main>
    
    <!-- My Roadmap Section (Hidden by default) -->
    <section class="main-content" id="my-roadmap" style="display: none;">
      <header class="dashboard-header">
        <div class="dashboard-title">
          <h1>My Roadmap</h1>
          <p>Your personalized learning path</p>
        </div>
        <div class="header-actions">
          <button class="step-btn secondary" id="backToDashboard">
            <i class="fas fa-arrow-left"></i> Back to Dashboard
          </button>
          <button class="step-btn primary" id="addSkillToggleBtn">
            <i class="fas fa-plus"></i> Add Custom Skill
          </button>
        </div>
      </header>
      
      <div class="widget roadmap-widget">
        <div class="widget-header">
          <h3 class="widget-title">Your AI-Powered Roadmap</h3>
        </div>
        
        <div class="add-skill-form-container" id="addSkillFormContainer">
          <input type="text" id="skillTitle" class="add-skill-input" placeholder="Enter skill title" required>
          <textarea id="skillDescription" class="add-skill-input" placeholder="Describe what you'll learn" required></textarea>
          <div class="add-skill-actions">
            <button class="step-btn secondary" id="cancelAddSkill">Cancel</button>
            <button class="step-btn primary" id="submitAddSkill">Add Skill</button>
          </div>
        </div>
        
        <div class="roadmap-steps" id="roadmapSteps">
          <!-- Roadmap steps will be populated by JavaScript -->
        </div>
      </div>
    </section>
    
    <!-- Learning Resources Section (Hidden by default) -->
    <section class="main-content" id="learning-resources" style="display: none;">
      <header class="dashboard-header">
        <div class="dashboard-title">
          <h1>Learning Resources</h1>
          <p>Explore recommended learning materials</p>
        </div>
        <div class="header-actions">
          <button class="step-btn secondary" id="backToDashboardResources">
            <i class="fas fa-arrow-left"></i> Back to Dashboard
          </button>
        </div>
      </header>
      
      <div class="widget">
        <div class="widget-header">
          <h3 class="widget-title">Recommended Resources</h3>
          <div class="widget-actions">
            <i class="fas fa-ellipsis-h"></i>
          </div>
        </div>
        
        <div class="resources-grid">
          <div class="resource-card">
            <div class="resource-image">
              <i class="fab fa-react"></i>
            </div>
            <div class="resource-content">
              <div class="resource-type">Video Course</div>
              <h4 class="resource-title">React Hooks Explained</h4>
              <div class="resource-meta">
                <span>3h 42m</span>
                <span>Free</span>
              </div>
            </div>
          </div>
          
          <div class="resource-card">
            <div class="resource-image">
              <i class="fas fa-book"></i>
            </div>
            <div class="resource-content">
              <div class="resource-type">Documentation</div>
              <h4 class="resource-title">React Official Docs</h4>
              <div class="resource-meta">
                <span>Reading</span>
                <span>Free</span>
              </div>
            </div>
          </div>
          
          <div class="resource-card">
            <div class="resource-image">
              <i class="fas fa-laptop-code"></i>
            </div>
            <div class="resource-content">
              <div class="resource-type">Tutorial</div>
              <h4 class="resource-title">Build a Todo App with React</h4>
              <div class="resource-meta">
                <span>1h 15m</span>
                <span>Free</span>
              </div>
            </div>
          </div>
          
          <div class="resource-card">
            <div class="resource-image">
              <i class="fas fa-question-circle"></i>
            </div>
            <div class="resource-content">
              <div class="resource-type">Practice</div>
              <h4 class="resource-title">React Hooks Exercises</h4>
              <div class="resource-meta">
                <span>15 Problems</span>
                <span>Free</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Projects Section (Hidden by default) -->
    <section class="main-content" id="projects" style="display: none;">
      <header class="dashboard-header">
        <div class="dashboard-title">
          <h1>Projects</h1>
          <p>Explore project ideas by domain</p>
        </div>
        <div class="header-actions">
          <button class="step-btn secondary" id="backToDashboardProjects">
            <i class="fas fa-arrow-left"></i> Back to Dashboard
          </button>
        </div>
      </header>
      
      <div class="widget projects-widget">
        <div class="widget-header">
          <h3 class="widget-title">Project Ideas</h3>
          <div class="widget-actions">
            <i class="fas fa-ellipsis-h"></i>
          </div>
        </div>
        <div class="projects-grid">
          <div class="project-section">
            <h4>This is for AI/ML</h4>
            <div class="project-card">
              <h4 class="project-title">Chatbot Basics</h4>
              <p class="project-description">Build a simple chatbot using Python and basic ML algorithms.</p>
              <p class="project-level">Beginner</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">Image Classifier</h4>
              <p class="project-description">Create an image classification model using TensorFlow.</p>
              <p class="project-level">Intermediate</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">AI-Powered Recommendation System</h4>
              <p class="project-description">Develop a recommendation engine with deep learning techniques.</p>
              <p class="project-level">Advanced</p>
            </div>
          </div>
          
          <div class="project-section">
            <h4>This is for Data Science</h4>
            <div class="project-card">
              <h4 class="project-title">Data Cleaning Script</h4>
              <p class="project-description">Write a script to clean and preprocess a dataset using Pandas.</p>
              <p class="project-level">Beginner</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">Exploratory Data Analysis</h4>
              <p class="project-description">Perform EDA on a public dataset with visualizations.</p>
              <p class="project-level">Intermediate</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">Predictive Analytics Model</h4>
              <p class="project-description">Build a predictive model using machine learning algorithms.</p>
              <p class="project-level">Advanced</p>
            </div>
          </div>
          
          <div class="project-section">
            <h4>This is for DevOps</h4>
            <div class="project-card">
              <h4 class="project-title">Basic Docker Setup</h4>
              <p class="project-description">Containerize a simple app using Docker.</p>
              <p class="project-level">Beginner</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">CI/CD Pipeline</h4>
              <p class="project-description">Set up a CI/CD pipeline with Jenkins.</p>
              <p class="project-level">Intermediate</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">Kubernetes Cluster</h4>
              <p class="project-description">Deploy a microservices app on a Kubernetes cluster.</p>
              <p class="project-level">Advanced</p>
            </div>
          </div>
          
          <div class="project-section">
            <h4>This is for Frontend</h4>
            <div class="project-card">
              <h4 class="project-title">Personal Portfolio</h4>
              <p class="project-description">Create a static portfolio website with HTML/CSS.</p>
              <p class="project-level">Beginner</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">Todo List App</h4>
              <p class="project-description">Build a Todo app with React and local storage.</p>
              <p class="project-level">Intermediate</p>
            </div>
            <div class="project-card">
              <h4 class="project-title">E-Commerce Website</h4>
              <p class="project-description">Develop a full e-commerce site with React and payment integration.</p>
              <p class="project-level">Advanced</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  
  <!-- AI Assistant Floating Button -->
  <div class="ai-assistant">
    <div class="ai-panel">
      <div class="ai-header">
        <h4>AI Career Assistant</h4>
        <button class="ai-close">×</button>
      </div>
      <div class="ai-messages">
        <div class="ai-message bot">
          Hi John! I'm your AI career assistant. How can I help you with your frontend development journey today?
        </div>
        <div class="ai-message user">
          What should I focus on this week?
        </div>
        <div class="ai-message bot">
          Based on your progress, I recommend focusing on React Hooks this week. You're 30% through this module. Would you like me to suggest specific resources?
        </div>
      </div>
      <div class="ai-input-container">
        <input type="text" class="ai-input" placeholder="Ask me anything...">
        <button class="ai-send">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
    <button class="ai-toggle">
      <i class="fas fa-robot"></i>
    </button>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // --- DATA & STATE MANAGEMENT ---
      let roadmapStepsData = [
        { id: 1, title: "HTML & CSS Fundamentals", description: "Learn core web development concepts and build basic layouts", status: 'completed' },
        { id: 2, title: "JavaScript Basics", description: "Master variables, functions, and DOM manipulation", status: 'completed' },
        { id: 3, title: "Responsive Design", description: "Learn Flexbox, Grid, and media queries", status: 'completed' },
        { id: 4, title: "Git & GitHub", description: "Version control and collaboration essentials", status: 'completed' },
        { id: 5, title: "React Fundamentals", description: "Components, props, state, and hooks", status: 'current' },
        { id: 6, title: "Advanced React Patterns", description: "Context API, Redux, and performance optimization", status: 'locked' },
        { id: 7, title: "Build Portfolio Projects", description: "3 real-world projects to showcase your skills", status: 'locked' }
      ];

      let progressData = {
        completed: 65
      };

      let weeklyGoal = "Complete React Hooks module and build a todo app with state management.";
      let interviewQuestions = [
        "Tell me about yourself.",
        "What are your strengths?",
        "What are your weaknesses?",
        "Why do you want this job?",
        "Where do you see yourself in five years?",
        "Why should we hire you?",
        "What is your greatest professional achievement?",
        "How do you handle stress or pressure?",
        "Describe a challenge you faced and how you overcame it.",
        "What motivates you?",
        "How do you prioritize your work?",
        "What are your salary expectations?",
        "Why are you leaving your current job?",
        "How do you handle conflict with a coworker?",
        "What is your management style?",
        "How do you stay updated in your field?",
        "Describe a time you worked in a team.",
        "What are your long-term career goals?",
        "How do you handle failure?",
        "What makes you unique?",
        "How do you manage your time?",
        "What are your technical skills?",
        "How do you approach problem-solving?",
        "Describe a time you showed leadership.",
        "What do you know about our company?",
        "How do you handle deadlines?",
        "What is your experience with [specific tool/technology]?",
        "How do you deal with difficult clients?",
        "What are your hobbies?",
        "How do you ensure quality in your work?",
        "Describe a time you improved a process.",
        "What are your communication skills like?",
        "How do you adapt to change?",
        "What is your experience with remote work?",
        "How do you handle constructive criticism?",
        "What are your certifications or training?",
        "Describe a time you missed a deadline.",
        "How do you stay organized?",
        "What is your approach to learning new skills?",
        "How do you handle repetitive tasks?",
        "What is your experience with Agile methodologies?",
        "How do you measure success?",
        "Describe a time you went above and beyond.",
        "What are your negotiation skills?",
        "How do you handle multitasking?",
        "What is your experience with data analysis?",
        "How do you ensure confidentiality?",
        "Describe a time you dealt with a tight budget.",
        "What are your problem-solving techniques?",
        "How do you handle underperforming team members?",
        "What is your experience with project management?",
        "How do you handle ambiguity?",
        "What are your creative skills?",
        "Describe a time you had to meet a tight deadline.",
        "How do you handle ethical dilemmas?",
        "What is your experience with customer service?",
        "How do you stay motivated?",
        "Describe a time you received negative feedback.",
        "What are your analytical skills?",
        "How do you handle a high-pressure environment?",
        "What is your experience with cloud technologies?",
        "How do you ensure accuracy in your work?",
        "Describe a time you collaborated with a diverse team.",
        "What are your leadership qualities?",
        "How do you handle a disagreement with a manager?",
        "What is your experience with automation tools?",
        "How do you manage work-life balance?",
        "Describe a time you had to learn a new tool quickly.",
        "What are your decision-making skills?",
        "How do you handle a lack of resources?",
        "What is your experience with DevOps?",
        "How do you ensure team morale?",
        "Describe a time you had to pivot a project.",
        "What are your presentation skills?",
        "How do you handle a micromanaging boss?",
        "What is your experience with APIs?",
        "How do you manage stakeholder expectations?",
        "Describe a time you had to resolve a conflict.",
        "What are your strategic planning skills?",
        "How do you handle a sudden increase in workload?",
        "What is your experience with cybersecurity?",
        "How do you ensure customer satisfaction?",
        "Describe a time you had to train someone.",
        "What are your interpersonal skills?",
        "How do you handle a failed project?",
        "What is your experience with UI/UX design?",
        "How do you manage risk?",
        "Describe a time you had to work overtime.",
        "What are your research skills?",
        "How do you handle a lack of direction?",
        "What is your experience with mobile development?",
        "How do you ensure continuous improvement?"
      ];
      let currentQuestionIndex = 0;

      // --- DOM ELEMENT SELECTORS ---
      const dashboard = document.querySelector('.main-content');
      const myRoadmapSection = document.getElementById('my-roadmap');
      const learningResourcesSection = document.getElementById('learning-resources');
      const projectsSection = document.getElementById('projects');
      const roadmapContainer = document.getElementById('roadmapSteps');
      const addSkillToggleBtn = document.getElementById('addSkillToggleBtn');
      const addSkillFormContainer = document.getElementById('addSkillFormContainer');
      const cancelAddSkill = document.getElementById('cancelAddSkill');
      const submitAddSkill = document.getElementById('submitAddSkill');
      const skillTitleInput = document.getElementById('skillTitle');
      const skillDescriptionInput = document.getElementById('skillDescription');
      const weeklyGoalText = document.getElementById('weeklyGoalText');
      const weeklyGoalInput = document.getElementById('weeklyGoalInput');
      const addWeeklyGoalBtn = document.getElementById('addWeeklyGoal');
      const clearWeeklyGoalBtn = document.getElementById('clearWeeklyGoal');
      const interviewQuestion = document.getElementById('interviewQuestion');
      const interviewAnswer = document.getElementById('interviewAnswer');
      nextQuestionBtn = document.getElementById('nextQuestion');
      const myRoadmapLink = document.querySelector('a[href="#my-roadmap"]');
      const backToDashboardBtn = document.getElementById('backToDashboard');
      const learningResourcesLink = document.querySelector('a[href="#learning-resources"]');
      const backToDashboardResourcesBtn = document.getElementById('backToDashboardResources');
      const projectsLink = document.querySelector('a[href="#projects"]');
      const backToDashboardProjectsBtn = document.getElementById('backToDashboardProjects');
      const userProfile = document.getElementById('userProfile');
      const profileModal = document.getElementById('profileModal');
      const profileForm = document.getElementById('profileForm');
      const profileNameInput = document.getElementById('profileName');
      const profileCareerPathInput = document.getElementById('profileCareerPath');
      const welcomeTitle = document.getElementById('welcomeTitle');
      const userName = document.getElementById('userName');
      const userCareerPath = document.getElementById('userCareerPath');
      const userAvatar = document.getElementById('userAvatar');
      const settingsLink = document.getElementById('settingsLink');
      const settingsModal = document.getElementById('settingsModal');
      const settingsForm = document.getElementById('settingsForm');
      const settingsNameInput = document.getElementById('settingsName');
      const settingsEmailInput = document.getElementById('settingsEmail');
      const currentPasswordInput = document.getElementById('currentPassword');
      const newPasswordInput = document.getElementById('newPassword');
      const confirmPasswordInput = document.getElementById('confirmPassword');
      const generateRoadmapBtn = document.getElementById('generateRoadmapBtn');
      const aiRoadmapModal = document.getElementById('aiRoadmapModal');
      const aiRoadmapForm = document.getElementById('aiRoadmapForm');
      const timelineInput = document.getElementById('timeline');
      const careerPathInput = document.getElementById('careerPath');
      const aiRoadmapCancel = document.getElementById('aiRoadmapCancel');
      const aiRoadmapModalClose = document.getElementById('aiRoadmapModalClose');
      const interviewList = document.getElementById('interviewList');
      
      // --- RENDERING FUNCTIONS ---
      function renderRoadmap() {
        roadmapContainer.innerHTML = '';
        roadmapStepsData.forEach((step, index) => {
          const stepEl = document.createElement('div');
          stepEl.className = 'roadmap-step';
          stepEl.dataset.id = step.id;
          
          let dotClass = '';
          let connectorClass = '';
          let actionsHtml = '';
          
          if (step.status === 'completed') {
            dotClass = 'completed';
            connectorClass = 'completed';
            actionsHtml = `
              <button class="step-btn secondary">
                <i class="fas fa-book"></i> Resources
              </button>
              <button class="step-btn secondary mark-complete-btn" style="background: var(--secondary); color: var(--dark); border: none;" disabled>
                <i class="fas fa-check-circle"></i> Completed
              </button>
              <button class="remove-skill-btn" data-id="${step.id}">Remove</button>
            `;
          } else if (step.status === 'current') {
            dotClass = 'current';
            actionsHtml = `
              <button class="step-btn primary">
                <i class="fas fa-play"></i> Start Learning
              </button>
              <button class="step-btn secondary">
                <i class="fas fa-book"></i> Resources
              </button>
              <button class="step-btn secondary mark-complete-btn">
                <i class="fas fa-check"></i> Mark Complete
              </button>
              <button class="remove-skill-btn" data-id="${step.id}">Remove</button>
            `;
          } else if (step.status === 'locked') {
            actionsHtml = `
              <button class="step-btn secondary" disabled>
                <i class="fas fa-lock"></i> Locked
              </button>
              <button class="remove-skill-btn" data-id="${step.id}">Remove</button>
            `;
          }
          
          const showConnector = index < roadmapStepsData.length - 1;
          
          stepEl.innerHTML = `
            <div class="step-indicator">
              <div class="step-dot ${dotClass}"></div>
              ${showConnector ? `<div class="step-connector ${connectorClass}"></div>` : ''}
            </div>
            <div class="step-content">
              <h4 class="step-title">${step.title}</h4>
              <p class="step-description">${step.description}</p>
              <div class="step-actions">${actionsHtml}</div>
            </div>
          `;
          
          roadmapContainer.appendChild(stepEl);
        });
        
        attachRoadmapEventListeners();
      }
      
      function renderInterviewQuestions() {
        interviewList.innerHTML = '';
        interviewQuestions.slice(0, 100).forEach(question => {
          const item = document.createElement('div');
          item.className = 'interview-item';
          item.textContent = question;
          interviewList.appendChild(item);
        });
      }
      
      function attachRoadmapEventListeners() {
        document.querySelectorAll('.mark-complete-btn:not(:disabled)').forEach(btn => {
          btn.addEventListener('click', handleMarkComplete);
        });
        document.querySelectorAll('.remove-skill-btn').forEach(btn => {
          btn.addEventListener('click', handleRemoveSkill);
        });
      }
      
      function handleMarkComplete(event) {
        const stepId = parseInt(event.target.closest('.roadmap-step').dataset.id);
        const currentStepIndex = roadmapStepsData.findIndex(s => s.id === stepId);
        
        if (currentStepIndex > -1 && roadmapStepsData[currentStepIndex].status === 'current') {
          roadmapStepsData[currentStepIndex].status = 'completed';
          
          if (currentStepIndex + 1 < roadmapStepsData.length) {
            roadmapStepsData[currentStepIndex + 1].status = 'current';
            
            const nextStepEl = roadmapContainer.querySelector(`[data-id="${roadmapStepsData[currentStepIndex + 1].id}"]`);
            if (nextStepEl) {
              nextStepEl.classList.add('newly-unlocked');
              setTimeout(() => {
                nextStepEl.classList.remove('newly-unlocked');
              }, 10);
            }
          }
          
          renderRoadmap();
          updateProgressStats();
        }
      }
      
      function handleRemoveSkill(event) {
        const stepId = parseInt(event.target.dataset.id);
        const stepIndex = roadmapStepsData.findIndex(s => s.id === stepId);
        if (stepIndex > -1) {
          roadmapStepsData.splice(stepIndex, 1);
          renderRoadmap();
          updateProgressStats();
        }
      }
      
      function updateProgressStats() {
        const completedSteps = roadmapStepsData.filter(step => step.status === 'completed').length;
        const totalSteps = roadmapStepsData.length;
        const newProgress = Math.round((completedSteps / totalSteps) * 100) || 0;
        
        progressData.completed = totalSteps > 0 ? newProgress : 0;
        
        document.getElementById('progressPercent').textContent = `${newProgress}%`;
        document.querySelector('.progress-fill').style.width = `${newProgress}%`;
      }
      
      // --- WEEKLY GOAL FUNCTIONALITY ---
      addWeeklyGoalBtn.addEventListener('click', () => {
        const newGoal = weeklyGoalInput.value.trim();
        if (newGoal) {
          weeklyGoal = newGoal;
          weeklyGoalText.textContent = weeklyGoal;
          weeklyGoalInput.value = '';
        }
      });
      
      clearWeeklyGoalBtn.addEventListener('click', () => {
        weeklyGoal = "";
        weeklyGoalText.textContent = "No weekly goal set.";
        weeklyGoalInput.value = '';
      });
      
      // --- INTERVIEW PREP FUNCTIONALITY ---
      function showNextQuestion() {
        currentQuestionIndex = (currentQuestionIndex + 1) % interviewQuestions.length;
        interviewQuestion.textContent = interviewQuestions[currentQuestionIndex];
        interviewAnswer.style.display = 'none';
      }
      
      nextQuestionBtn.addEventListener('click', () => {
        showNextQuestion();
      });
      
      interviewQuestion.addEventListener('click', () => {
        interviewAnswer.style.display = interviewAnswer.style.display === 'block' ? 'none' : 'block';
      });
      
      // --- ADD SKILL FUNCTIONALITY ---
      addSkillToggleBtn.addEventListener('click', () => {
        addSkillFormContainer.style.display = 'block';
        addSkillToggleBtn.style.display = 'none';
      });
      
      cancelAddSkill.addEventListener('click', () => {
        addSkillFormContainer.style.display = 'none';
        addSkillToggleBtn.style.display = 'flex';
        skillTitleInput.value = '';
        skillDescriptionInput.value = '';
      });
      
      submitAddSkill.addEventListener('click', () => {
        const title = skillTitleInput.value.trim();
        const description = skillDescriptionInput.value.trim();
        
        if (title && description) {
          const newSkill = {
            id: Date.now(),
            title,
            description,
            status: 'locked'
          };
          
          roadmapStepsData.splice(roadmapStepsData.length - 1, 0, newSkill);
          
          renderRoadmap();
          
          skillTitleInput.value = '';
          skillDescriptionInput.value = '';
          addSkillFormContainer.style.display = 'none';
          addSkillToggleBtn.style.display = 'flex';
          
          updateProgressStats();
        }
      });
      
      // --- THEME TOGGLE ---
      const themeToggle = document.getElementById('themeToggle');
      const body = document.body;
      
      themeToggle.addEventListener('click', () => {
        body.classList.toggle('light-mode');
        const theme = body.classList.contains('light-mode') ? 'light' : 'dark';
        localStorage.setItem('theme', theme);
      });
      
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'light') {
        body.classList.add('light-mode');
      }
      
      // --- PROFILE MENU ---
      userProfile.addEventListener('click', (e) => {
        e.stopPropagation();
        profileMenu.classList.toggle('active');
      });
      
      document.addEventListener('click', () => {
        profileMenu.classList.remove('active');
      });
      
      // --- MODAL FUNCTIONALITY ---
      const editProfileBtn = document.getElementById('editProfileBtn');
      const profileModalClose = document.getElementById('profileModalClose');
      const profileCancel = document.getElementById('profileCancel');
      
      editProfileBtn.addEventListener('click', () => {
        profileMenu.classList.remove('active');
        profileModal.classList.add('active');
        profileNameInput.value = userName.textContent;
        profileCareerPathInput.value = userCareerPath.textContent;
      });
      
      profileModalClose.addEventListener('click', () => {
        profileModal.classList.remove('active');
      });
      
      profileCancel.addEventListener('click', () => {
        profileModal.classList.remove('active');
      });
      
      profileForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const newName = profileNameInput.value.trim();
        const newCareerPath = profileCareerPathInput.value.trim();
        
        if (newName && newCareerPath) {
          userName.textContent = newName;
          userCareerPath.textContent = newCareerPath;
          welcomeTitle.textContent = `Welcome Back, ${newName.split(' ')[0]}!`;
          const initials = newName.split(' ').map(word => word[0]).join('').slice(0, 2).toUpperCase();
          userAvatar.textContent = initials;
          localStorage.setItem('userName', newName);
          localStorage.setItem('userCareerPath', newCareerPath);
          profileModal.classList.remove('active');
        }
      });
      
      // --- SETTINGS MODAL ---
      const settingsModalClose = document.getElementById('settingsModalClose');
      const settingsCancel = document.getElementById('settingsCancel');
      
      settingsLink.addEventListener('click', (e) => {
        e.preventDefault();
        settingsModal.classList.add('active');
        settingsNameInput.value = userName.textContent;
        settingsEmailInput.value = localStorage.getItem('userEmail') || 'john.doe@example.com';
      });
      
      settingsModalClose.addEventListener('click', () => {
        settingsModal.classList.remove('active');
      });
      
      settingsCancel.addEventListener('click', () => {
        settingsModal.classList.remove('active');
      });
      
      settingsForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const newName = settingsNameInput.value.trim();
        const newEmail = settingsEmailInput.value.trim();
        const currentPassword = currentPasswordInput.value;
        const newPassword = newPasswordInput.value;
        const confirmPassword = confirmPasswordInput.value;
        
        if (newName && newEmail && currentPassword && newPassword && confirmPassword) {
          if (newPassword === confirmPassword) {
            userName.textContent = newName;
            welcomeTitle.textContent = `Welcome Back, ${newName.split(' ')[0]}!`;
            const initials = newName.split(' ').map(word => word[0]).join('').slice(0, 2).toUpperCase();
            userAvatar.textContent = initials;
            localStorage.setItem('userName', newName);
            localStorage.setItem('userEmail', newEmail);
            settingsModal.classList.remove('active');
            settingsForm.reset();
          } else {
            alert('New passwords do not match!');
          }
        }
      });
      
      // --- MY ROADMAP NAVIGATION ---
      myRoadmapLink.addEventListener('click', (e) => {
        e.preventDefault();
        dashboard.style.display = 'none';
        myRoadmapSection.style.display = 'block';
        renderRoadmap();
      });
      
      backToDashboardBtn.addEventListener('click', () => {
        myRoadmapSection.style.display = 'none';
        dashboard.style.display = 'block';
      });
      
      // --- LEARNING RESOURCES NAVIGATION ---
      learningResourcesLink.addEventListener('click', (e) => {
        e.preventDefault();
        dashboard.style.display = 'none';
        learningResourcesSection.style.display = 'block';
      });
      
      backToDashboardResourcesBtn.addEventListener('click', () => {
        learningResourcesSection.style.display = 'none';
        dashboard.style.display = 'block';
      });
      
      // --- PROJECTS NAVIGATION ---
      projectsLink.addEventListener('click', (e) => {
        e.preventDefault();
        dashboard.style.display = 'none';
        projectsSection.style.display = 'block';
      });
      
      backToDashboardProjectsBtn.addEventListener('click', () => {
        projectsSection.style.display = 'none';
        dashboard.style.display = 'block';
      });
      
      // --- AI ROADMAP GENERATION ---
      generateRoadmapBtn.addEventListener('click', () => {
        aiRoadmapModal.classList.add('active');
      });
      
      aiRoadmapCancel.addEventListener('click', () => {
        aiRoadmapModal.classList.remove('active');
        aiRoadmapForm.reset();
      });
      
      aiRoadmapModalClose.addEventListener('click', () => {
        aiRoadmapModal.classList.remove('active');
        aiRoadmapForm.reset();
      });
      
      aiRoadmapForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const timeline = timelineInput.value;
        const careerPath = careerPathInput.value;
        
        if (timeline && careerPath) {
          const prompt = `Generate a career roadmap with a list of skills and milestones for a ${careerPath} over a timeline of ${timeline} months. Provide only the skills and milestones in a structured JSON format, focusing on actionable steps tailored to the given timeline.`;
          
          try {
            const response = await fetch('https://api.openai.com/v1/chat/completions', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer YOUR_API_KEY_HERE' // Replace with your OpenAI API key
              },
              body: JSON.stringify({
                model: 'gpt-3.5-turbo',
                messages: [{ role: 'user', content: prompt }],
                max_tokens: 500
              })
            });
            
            const data = await response.json();
            const roadmapText = data.choices[0].message.content;
            const roadmapData = JSON.parse(roadmapText);
            
            roadmapStepsData = roadmapData.map((item, index) => ({
              id: Date.now() + index,
              title: item.skill || item.milestone,
              description: item.description || 'Learn and practice this skill/milestone',
              status: index === 0 ? 'current' : 'locked'
            }));
            
            renderRoadmap();
            updateProgressStats();
            aiRoadmapModal.classList.remove('active');
            aiRoadmapForm.reset();
          } catch (error) {
            console.error('Error generating roadmap:', error);
            alert('Failed to generate roadmap. Please check your API key or try again later.');
          }
        }
      });
      
      // --- AI ASSISTANT ---
      const aiToggle = document.querySelector('.ai-toggle');
      const aiPanel = document.querySelector('.ai-panel');
      const aiClose = document.querySelector('.ai-close');
      
      aiToggle.addEventListener('click', () => {
        aiPanel.classList.toggle('active');
      });
      
      aiClose.addEventListener('click', () => {
        aiPanel.classList.remove('active');
      });
      
      const aiInput = document.querySelector('.ai-input');
      const aiSend = document.querySelector('.ai-send');
      const aiMessages = document.querySelector('.ai-messages');
      
      function addAIMessage(text, isUser = false) {
        const message = document.createElement('div');
        message.classList.add('ai-message');
        message.classList.add(isUser ? 'user' : 'bot');
        message.textContent = text;
        aiMessages.appendChild(message);
        aiMessages.scrollTop = aiMessages.scrollHeight;
      }
      
      aiSend.addEventListener('click', () => {
        if (aiInput.value.trim()) {
          addAIMessage(aiInput.value, true);
          setTimeout(() => {
            addAIMessage("I can help with that! Here are some resources you might find useful...");
          }, 1000);
          aiInput.value = '';
        }
      });
      
      aiInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          aiSend.click();
        }
      });
      
      // --- INITIALIZATION ---
      const savedName = localStorage.getItem('userName');
      const savedCareerPath = localStorage.getItem('userCareerPath');
      const savedEmail = localStorage.getItem('userEmail');
      if (savedName) userName.textContent = savedName;
      if (savedCareerPath) userCareerPath.textContent = savedCareerPath;
      if (savedEmail) settingsEmailInput.value = savedEmail;
      welcomeTitle.textContent = `Welcome Back, ${userName.textContent.split(' ')[0]}!`;
      const initials = userName.textContent.split(' ').map(word => word[0]).join('').slice(0, 2).toUpperCase();
      userAvatar.textContent = initials;
      
      updateProgressStats();
      showNextQuestion();
      renderInterviewQuestions();
      
      console.log('SkillBridge Dashboard Initialized');
    });
  </script>
</body>
</html>